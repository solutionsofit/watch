<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<h:outputScript library="watch" name="js/jquery.js" />
	<script>
	
		
		
		var thour;
		var tmin;
		var tsec;
		var changeTo = false;
		var target_date = new Date().getTime() + (1000*60*10);
		
		var target_date1 = new Date().getTime() + (1000*60*5);
		var sunrise = true;
		
		

		  function digitalWatch() { 
		 	 	
			var namaz=document.getElementById('namazTime').value;
				
						
			var date = new Date();
			var todayD=date.getDay();
		    var todayDD=date.getDate();
		  
		    var todayM=date.getMonth()+1;
		    var todayMM=date.getMonth();
		    var todayY=date.getFullYear();
		    var today=new Date();

			var namaz3;
			
			namaz3=namaz.slice(1).split(','+' ',7)
			
			
			
			var namazTime1=namaz3[1].charAt(0)+namaz3[1].charAt(1);
			var namazTime2=namaz3[2].charAt(0)+namaz3[2].charAt(1);
			var namazTime3=namaz3[3].charAt(0)+namaz3[3].charAt(1);
			var namazTime4=namaz3[4].charAt(0)+namaz3[4].charAt(1);
			var namazTime5=namaz3[5].charAt(0)+namaz3[5].charAt(1);
			var namazTime6=namaz3[6].charAt(0)+namaz3[6].charAt(1);
			
			for(k=1;k&lt;namaz3.length;k++){
			
			var namazHr=namaz3[k].charAt(0)+namaz3[k].charAt(1);
			var namazMin=namaz3[k].charAt(3)+namaz3[k].charAt(4)
			
			var d=new Date();
			var time=d.getHours();
			var min=d.getMinutes();
			
			<!-- Обратый отсчет -->
				if(time&lt;namazHr){
			if(namazTime5==namazHr){
				changeTo=true;
			}		
			var secondTimeend =new Date(todayY,todayMM,todayDD,namazHr,namazMin)
		  	today = new Date();
		    today = Math.floor(((secondTimeend)-today)/1000);
		    tsec=today%60; today=Math.floor(today/60); if(tsec&lt;10)tsec='0'+tsec;
		    tmin=today%60; today=Math.floor(today/60); if(tmin&lt;10)tmin='0'+tmin;
		    thour=today%24; today=Math.floor(today/24); if(thour&lt;10)thour='0'+thour;
		    timestr=tmin+":"+tsec;
		    document.getElementById('time').innerHTML=timestr;
		    document.getElementById('time1').innerHTML=timestr;
		    document.getElementById('time2').innerHTML=timestr;
			document.getElementById('time3').innerHTML=timestr; 
			
			if(tmin == 0 &amp;&amp; tsec==0){
				getMih();
			}
			
		   	
				break;	
				}
				else if(time&#61;&#61;namazHr){
				if(min&lt;namazMin){
					if(namazTime5==namazHr){
						changeTo=true;
					}	
			var secondTimeend =new Date(todayY,todayMM,todayDD,namazHr,namazMin)
		  	today = new Date();
		  	
		    today = Math.floor(((secondTimeend)-today)/1000);
		    tsec=today%60; today=Math.floor(today/60); if(tsec&lt;10)tsec='0'+tsec;
		    tmin=today%60; today=Math.floor(today/60); if(tmin&lt;10)tmin='0'+tmin;
		    thour=today%24; today=Math.floor(today/24); if(thour&lt;10)thour='0'+thour;
		    timestr=tmin+":"+tsec;
		    document.getElementById('time').innerHTML=timestr;
		    document.getElementById('time1').innerHTML=timestr;
		    document.getElementById('time2').innerHTML=timestr;
			document.getElementById('time3').innerHTML=timestr; 
			
		  
				break;
				}
				}
				else if((time&#62;namazHr)&amp;&amp;(time&#62;namazTime1)&amp;&amp;(time&#62;namazTime2)&amp;&amp;(time&#62;namazTime3)&amp;&amp;(time&#62;namazTime4)&amp;&amp;(time&#62;namazTime5)&amp;&amp;(time&#62;namazTime6)){		
					if(namazTime5==namazHr){
						changeTo=true;
					}	
			var secondTimeend =new Date(todayY,todayMM,todayDD+1,namazHr,namazMin)
		  	today = new Date(); 
		    today = Math.floor(((secondTimeend)-today)/1000);
		    tsec=today%60; today=Math.floor(today/60); if(tsec&lt;10)tsec='0'+tsec;
		    tmin=today%60; today=Math.floor(today/60); if(tmin&lt;10)tmin='0'+tmin;
		    thour=today%24; today=Math.floor(today/24);
		    if(thour&lt;10)thour='0'+thour;
		    timestr=tmin+":"+tsec;
		    document.getElementById('time').innerHTML=timestr;
		    document.getElementById('time1').innerHTML=timestr;
		    document.getElementById('time2').innerHTML=timestr;
			document.getElementById('time3').innerHTML=timestr; 
			
				break;
				}
			}
	   <!--  Дата -->
	 if(todayM &lt;10){
	   		today = todayDD+'.'+'0'+todayM +'.'+ todayY;
	   	}else{
	   		today = todayDD+'.'+todayM +'.'+ todayY;
	   		}
	   		
	
	
		<!-- Часы -->
	    var hours = date.getHours();
	    var minutes = date.getMinutes();
	    var seconds = date.getSeconds();
	    if (hours &lt; 10) hours = "0" + hours;
	    if (minutes &lt; 10) minutes = "0" + minutes;
	    if (seconds &lt; 10) seconds = "0" + seconds;
	    
	    <!-- document.getElementById("digital_watch1").innerHTML = array[todayD]; -->
	    
	    document.getElementById("digital_watch2").innerHTML = hours + ":" + minutes + ":&#60;span&gt;" + seconds + "&#60;/span&gt;";
	    document.getElementById("digital_watch3").innerHTML = hours + ":" + minutes + ":&#60;span&gt;" + seconds + "&#60;/span&gt;";

		<!-- Условие на появление строки за 15 минут до молитвы -->
	    if (thour == 0 &amp;&amp; tmin &#60; 15) {
	    	
	    	$(".before_prayer").css("display","block");
	    } else {
	    	$(".before_prayer").css("display","none");
	    }
	    
	   setTimeout(digitalWatch,1000)
   
   
  	}
 	
 	var lang="ru_tat"
 	var count=0;
 	/* Счетчик count предназначен для смены языков и месяцев на странице,
 	При значении 0:выводится день недели и календарь в григорианском календаре (татарский/русский)
 	При значении 1:выводится день недели и календарь в исламском календаре(арабский/английский)
 	При значении 2:выводится месяц и календарь в григорианском календаре(татарский/русский)
 	При значении 3:выводится месяц и календарь в исламском календаре(арабский/английский)
 	После значение обнуляется */
 	function changeStyle(){
 	
	 	//Текущеие день недели,месяц,год 
	 	var date = new Date();
	    var array=["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота","Понедельник"];   
	    var todayDate=date.getDate(); 
	    var todayMonth=date.getMonth()+1;
	    var todayYear=date.getFullYear(); 
	    var today=new Date();
	    var tsec1
	    var tmin1
	    var today1=new Date();
	    
	 	if(todayMonth &lt;10){
	   		today = todayDate+'.'+'0'+todayMonth +'.'+ todayYear;
	   	}else{
	   		today = todayDate+'.'+todayMonth +'.'+ todayYear;
	   		}
	 	 document.getElementById("digitalWatchLeft").innerHTML = today;
     	 document.getElementById("digitalWatchRight").innerHTML = today;
     	 
     	 
     	 
     	 if(tsec==0&amp;&amp;tmin==0){
     	  today1 = Math.floor(((target_date)-today1)/1000);
  	    tsec1=today1%60; today1=Math.floor(today1/60); if(tsec&lt;10)tsec='0'+tsec;
  	    tmin1=today1%60; today1=Math.floor(today1/60); if(tmin&lt;10)tmin='0'+tmin;
  	  	console.log(tsec1)
     	 }
     	 
  	    thour1=today1%24; today1=Math.floor(today1/24);	
  	  
  	   
	            if(lang=="ru_tat"){           		
	            	lang="ar_en"	            	 
	              document.getElementById('firstBlock').style.display = 'block';
	              document.getElementById('secondBlock').style.display = 'none';
	              
	              if(count==4){
	              count=0;               
	              }   
	              
	              if(count==0){	          	   
	        	    	
				    	$(".day_ar").css("display","none");
				    	$(".day_en").css("display","none");
				    	$(".day_tat").css("display","");
				    	$(".day_ru").css("display","");				    	
				    	$(".month_tat").css("display","none");
				    	$(".month_ru").css("display","none");
				    	$(".month_arIslam").css("display","none");
				    	$(".month_enIslam").css("display","none");	        	 	          	 
	          	$(".normal").css("display","block");
		    	$(".islamDate").css("display","none");
	              }
	              else if(count==2){		          	    
			        	    	
						    	$(".day_ar").css("display","none");
						    	$(".day_en").css("display","none");
						    	$(".day_tat").css("display","none");
						    	$(".day_ru").css("display","none");						    	
						    	$(".month_tat").css("display","");
						    	$(".month_ru").css("display","");
						    	$(".month_arIslam").css("display","none");
						    	$(".month_enIslam").css("display","none");	       	 
	          	$(".normal").css("display","");
		    	$(".islamDate").css("display","none");
	              }              
	              count++;	          	  				          	  				                                         
	           }else{ 	        	   
	      	   lang="ru_tat"
	           document.getElementById('firstBlock').style.display = 'none';
	           document.getElementById('secondBlock').style.display = 'block';                     
	           if(count==4){
	              count=0;
	              }                          
					if(count==1){		          	   
			        	    
						    	$(".day_ar").css("display","");
						    	$(".day_en").css("display","");
						    	$(".day_tat").css("display","none");
						    	$(".day_ru").css("display","none");						    	
						    	$(".month_tat").css("display","none");
						    	$(".month_ru").css("display","none");
						    	$(".month_arIslam").css("display","none");
						    	$(".month_enIslam").css("display","none");			        	    	          	
	          	$(".normal").css("display","none");
		    	$(".islamDate").css("display","block");	          	  			              
	              }else if(count==3){		          	 
			        	    	
						    	$(".day_ar").css("display","none");
						    	$(".day_en").css("display","none");
						    	$(".day_tat").css("display","none");
						    	$(".day_ru").css("display","none");						    	
						    	$(".month_tat").css("display","none");
						    	$(".month_ru").css("display","none");
						    	$(".month_arIslam").css("display","");
						    	$(".month_enIslam").css("display","");
			        	    
		          		$(".normal").css("display","none");
				    	$(".islamDate").css("display","");
	              }
	              count++;       
	           }
	             
  	    }
	               
	 	
 	
 	
 	function getMih(){
 					 
		  
 		
 	
 	}
 	
	 	function changeSunrise() {
	 		
	 		sunrise = !sunrise;
	
		    if (sunrise) {
		    	$(".sunrise").css("display","");
		    	$(".fajr").css("display","none");
		    } else {
		    	$(".sunrise").css("display","none");
		    	$(".fajr").css("display","");
		    }
			
		}
 	
	  function loadscript(){	
		
	 	digitalWatch();
	 	changeSunrise();
	 	changeStyle();
	 	setInterval(changeStyle,10000);
	  
	  	setInterval(changeSunrise,20000);
	  	
	  }
	  

  	
			
</script>
	<h:outputStylesheet library="watch" target="head"
		name="css/mystyle-max.css" />
	<meta charset="UTF-8" />
	<title>Часы намаза</title>
</h:head>

<h:body onload="loadscript()">

	<h:form prependId="false">

		<!-- Дата время день -->
		<div class="wrapper">



			<div class="normal" id="digitalWatchLeft"></div>
			<div class="normal" id="digitalWatchRight"></div>

			<div class="islamDate">#{managedNamazMax.dateIslam}</div>
			<div class="islamDate">#{managedNamazMax.dateIslam}</div>

			<div class="msgTurnOffPhoneTat" style="display: none">
				<h:outputText value="#{managedNamazMax.messageTopTat}"></h:outputText>
			</div>

			<div class="msgTurnOffPhoneRu" style="display: none">
				<h:outputText value="#{managedNamazMax.messageTopRu}"></h:outputText>
			</div>

			<div class="day_tat" style="display: none">

				<h:outputText value="#{managedNamazMax.dayTat}"></h:outputText>


			</div>

			<div class="day_ru" style="display: none">

				<h:outputText value="#{managedNamazMax.dayRu}"></h:outputText>


			</div>


			<div class="month_tat" style="display: none">
				<h:outputText value="#{managedNamazMax.monthTat}"></h:outputText>
			</div>
			<div class="month_ru" style="display: none">
				<h:outputText value="#{managedNamazMax.monthRu}"></h:outputText>
			</div>

			<div class="msgTurnOffPhoneAr" style="display: none">
				<h:outputText value="#{managedNamazMax.messageTopAr}"></h:outputText>
			</div>
			<div class="msgTurnOffPhoneEn" style="display: none">
				<h:outputText value="#{managedNamazMax.messageTopEn}"></h:outputText>
			</div>

			<div class="day_ar" style="display: none">
				<h:outputText value="#{managedNamazMax.dayAr}"></h:outputText>
			</div>
			<div class="day_en" style="display: none">
				<h:outputText value="#{managedNamazMax.dayEn}"></h:outputText>
			</div>


			<div class="month_arIslam" style="display: none">

				<h:outputText value="#{managedNamazMax.monthArIslam}"></h:outputText>


			</div>
			<div class="month_enIslam" style="display: none">
				<h:outputText value="#{managedNamazMax.monthEnIslam}"></h:outputText>
			</div>


		</div>
		<div class="wrapper_1">
			<div id="digital_watch2"></div>
			<div id="digital_watch3"></div>
		</div>



		<!-- Язык страницы -->
		<h1 hidden="true" id="language"></h1>
		<!-- Таблица с намазами -->

		<div class="nod1" id="firstBlock" style="display: block;">
			<div class="wrapper_2">
				<!-- Намазы на татарском -->

				<div class="column1 row box1 fajr">
					<ui:repeat var="namaz" value="#{managedNamazMax.namazesTatFajr}">
						<div class="fajr">#{namaz.date}</div>
					</ui:repeat>
				</div>

				<div class="column2 row small_font box1 fajr">
					<ui:repeat var="namaz" value="#{managedNamazMax.namazesTatFajr}">
						<div class="fajr">#{namaz.name}</div>
					</ui:repeat>
				</div>

				<div class="column1 row box1 sunrise">
					<ui:repeat var="namaz" value="#{managedNamazMax.namazesTatSun}">
						<div class="sunrise">#{namaz.date}</div>
					</ui:repeat>
				</div>

				<div class="column2 row small_font box1 sunrise">
					<ui:repeat var="namaz" value="#{managedNamazMax.namazesTatSun}">
						<div class="sunrise">#{namaz.name}</div>
					</ui:repeat>
				</div>

				<!-- Намазы на русском -->
				<div class="column3 row box2 fajr">
					<ui:repeat var="namaz" value="#{managedNamazMax.namazesRuFajr}">
						<div class="fajr">#{namaz.name}</div>
					</ui:repeat>
				</div>
				<div class="column4 row box1 fajr">
					<ui:repeat var="namaz" value="#{managedNamazMax.namazesRuFajr}">
						<div class="fajr">#{namaz.date}</div>
					</ui:repeat>
				</div>

				<div class="column3 row box2 sunrise">
					<ui:repeat var="namaz" value="#{managedNamazMax.namazesRuSun}">
						<div class="sunrise">#{namaz.name}</div>
					</ui:repeat>
				</div>
				<div class="column4 row box1 sunrise">
					<ui:repeat var="namaz" value="#{managedNamazMax.namazesRuSun}">
						<div class="sunrise">#{namaz.date}</div>
					</ui:repeat>
				</div>

				<!-- Обратный отсчет на тат -->

				<div class="column1 column5 row box1 before_prayer"
					style="display: none;">
					<div>
						<div id="time"></div>
					</div>
				</div>
				<div class="column2 column5 row box8 before_prayer"
					style="display: none;">
					<div>#{managedNamazMax.messageBottomTat}</div>
				</div>
				<!-- Обратный отсчет на ру -->

				<div class="column3 column5 row box7 before_prayer"
					style="display: none;">
					<div>#{managedNamazMax.messageBottomRu}</div>
				</div>

				<div class="column4 column5 row box1 before_prayer"
					style="display: none;">
					<div>
						<div id="time1"></div>
					</div>
				</div>

			</div>
		</div>

		<div class="nod2" id="secondBlock" style="display: none;">
			<div class="wrapper_2">

				<div class="column1 row box1 fajr">
					<ui:repeat var="namaz" value="#{managedNamazMax.namazesArFajr}">
						<div class="fajr">#{namaz.date}</div>
					</ui:repeat>
				</div>

				<div class="column2 row box1 fajr">
					<ui:repeat var="namaz" value="#{managedNamazMax.namazesArFajr}">
						<div class="fajr">#{namaz.name}</div>
					</ui:repeat>
				</div>

				<div class="column1 row box1 sunrise">
					<ui:repeat var="namaz" value="#{managedNamazMax.namazesArSun}">
						<div class="sunrise">#{namaz.date}</div>
					</ui:repeat>
				</div>

				<div class="column2 row box1 sunrise">
					<ui:repeat var="namaz" value="#{managedNamazMax.namazesArSun}">
						<div class="sunrise">#{namaz.name}</div>
					</ui:repeat>
				</div>

				<div class="column3 row box2 fajr">
					<ui:repeat var="namaz" value="#{managedNamazMax.namazesEnFajr}">
						<div class="fajr">#{namaz.name}</div>
					</ui:repeat>
				</div>
				<div class="column4 row box1 fajr">
					<ui:repeat var="namaz" value="#{managedNamazMax.namazesEnFajr}">
						<div class="fajr">#{namaz.date}</div>
					</ui:repeat>
				</div>

				<div class="column3 row box2 sunrise">
					<ui:repeat var="namaz" value="#{managedNamazMax.namazesEnSun}">
						<div class="sunrise">#{namaz.name}</div>
					</ui:repeat>
				</div>
				<div class="column4 row box1 sunrise">
					<ui:repeat var="namaz" value="#{managedNamazMax.namazesEnSun}">
						<div class="sunrise">#{namaz.date}</div>
					</ui:repeat>
				</div>

				<!-- Обратный отсчет на тат -->

				<div class="column1 column5 row box1 before_prayer"
					style="display: none;">
					<div>
						<div id="time2"></div>
					</div>
				</div>
				<div class="column2 column5 row box8 before_prayer"
					style="display: none;">
					<div>#{managedNamazMax.messageBottomAr}</div>
				</div>
				<!-- Обратный отсчет на ру -->

				<div class="column3 column5 row box7 before_prayer"
					style="display: none;">
					<div>#{managedNamazMax.messageBottomEn}</div>
				</div>

				<div class="column4 column5 row box1 before_prayer"
					style="display: none;">
					<div>
						<div id="time3"></div>
					</div>
				</div>
			</div>
		</div>

		<div class="wrapper_3">
			<div class="box4">22</div>
			<div class="box4">
				t<sup>0</sup>C
			</div>
			<div class="box5">
				t<sup>0</sup>C
			</div>
			<div class="box4">22</div>

		</div>

		<h:inputHidden id="namazTime" value="#{managedNamazMax.namazTime}"></h:inputHidden>



	</h:form>

</h:body>
</html>