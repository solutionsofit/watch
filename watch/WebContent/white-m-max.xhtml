<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html">
<h:head>
	<h:outputScript library="watch" name="js/jquery.js" />
	<script>
	
	
	
	
	var thour;
	var tmin;
	
	var targetDate10m=new Date().getTime()+(1000*60*10);
	var targetDate5m=new Date().getTime()+(1000*60*5);
	var sunrise = true;
	var month_day="day";
	

  function digitalWatch() { 
	var namaz=document.getElementById('namazTime').value;
	
	

	    var date = new Date();
	var todayD=date.getDay();
    var todayDD=date.getDate();
  
    var todayM=date.getMonth()+1;
    var todayMM=date.getMonth();
    var todayY=date.getFullYear();
    var today=new Date();

	var namaz3;
	
	namaz3=namaz.slice(1).split(','+' ',7)

	
	var namazTime1=namaz3[1].charAt(0)+namaz3[1].charAt(1);
	var namazTime2=namaz3[2].charAt(0)+namaz3[2].charAt(1);
	var namazTime3=namaz3[3].charAt(0)+namaz3[3].charAt(1);
	var namazTime4=namaz3[4].charAt(0)+namaz3[4].charAt(1);
	var namazTime5=namaz3[5].charAt(0)+namaz3[5].charAt(1);
	var namazTime6=namaz3[6].charAt(0)+namaz3[6].charAt(1);
	
	for(k=1;k&lt;namaz3.length;k++){
	
	var namazHr=namaz3[k].charAt(0)+namaz3[k].charAt(1);
	var namazMin=namaz3[k].charAt(3)+namaz3[k].charAt(4)
	
	var d=new Date();
	var time=d.getHours();
	var min=d.getMinutes();
	
	<!-- Обратый отсчет -->
		if(time&lt;namazHr){
	var secondTimeend =new Date(todayY,todayMM,todayDD,namazHr,namazMin)
  	today = new Date();
    today = Math.floor(((secondTimeend)-today)/1000);
    tsec=today%60; today=Math.floor(today/60); if(tsec&lt;10)tsec='0'+tsec;
    tmin=today%60; today=Math.floor(today/60); if(tmin&lt;10)tmin='0'+tmin;
    thour=today%24; today=Math.floor(today/24); if(thour&lt;10)thour='0'+thour;
    timestr=tmin+":"+tsec;
    document.getElementById('time').innerHTML=timestr;
    document.getElementById('time1').innerHTML=timestr;
   	
		break;	
		}
		else if(time&#61;&#61;namazHr){
		if(min&lt;namazMin){
		
	var secondTimeend =new Date(todayY,todayMM,todayDD,namazHr,namazMin)
  	today = new Date();
  	
    today = Math.floor(((secondTimeend)-today)/1000);
    tsec=today%60; today=Math.floor(today/60); if(tsec&lt;10)tsec='0'+tsec;
    tmin=today%60; today=Math.floor(today/60); if(tmin&lt;10)tmin='0'+tmin;
    thour=today%24; today=Math.floor(today/24); if(thour&lt;10)thour='0'+thour;
    timestr=tmin+":"+tsec;
    document.getElementById('time').innerHTML=timestr;
    document.getElementById('time1').innerHTML=timestr;
  
 
  
		break;
		}
		}
		else if((time&#62;namazHr)&amp;&amp;(time&#62;namazTime1)&amp;&amp;(time&#62;namazTime2)&amp;&amp;(time&#62;namazTime3)&amp;&amp;(time&#62;namazTime4)&amp;&amp;(time&#62;namazTime5)&amp;&amp;(time&#62;namazTime6)){		
	var secondTimeend =new Date(todayY,todayMM,todayDD+1,namazHr,namazMin)
  	today = new Date(); 
    today = Math.floor(((secondTimeend)-today)/1000);
    tsec=today%60; today=Math.floor(today/60); if(tsec&lt;10)tsec='0'+tsec;
    tmin=today%60; today=Math.floor(today/60); if(tmin&lt;10)tmin='0'+tmin;
    thour=today%24; today=Math.floor(today/24);
    if(thour&lt;10)thour='0'+thour;
    timestr=tmin+":"+tsec;
    document.getElementById('time').innerHTML=timestr;
    document.getElementById('time1').innerHTML=timestr;
		break;
		}
	}
   <!--  Дата -->
 if(todayM &lt;10){
   		today = todayDD+'.'+'0'+todayM +'.'+ todayY;
   	}else{
   		today = todayDD+'.'+todayM +'.'+ todayY;
   		}
	<!-- Часы -->
    var hours = date.getHours();
    var minutes = date.getMinutes();
    var seconds = date.getSeconds();
    if (hours &lt; 10) hours = "0" + hours;
    if (minutes &lt; 10) minutes = "0" + minutes;
    if (seconds &lt; 10) seconds = "0" + seconds;    
    <!-- document.getElementById("digital_watch1").innerHTML = array[todayD]; -->
    document.getElementById("digital_watch1").innerHTML = today;
   <!--   document.getElementById("digital_watch2").innerHTML = today; -->
      document.getElementById("digital_watch3").innerHTML = today;
      <!--  document.getElementById("digital_watch4").innerHTML = today; -->
    document.getElementById("digital_time").innerHTML = hours + ":" + minutes + ":&#60;span&gt;" + seconds + "&#60;/span&gt;";
    document.getElementById("digital_time1").innerHTML = hours + ":" + minutes + ":&#60;span&gt;" + seconds + "&#60;/span&gt;";
    
    <!-- Условие на появление строки за 15 минут до молитвы -->
    if (thour == 0 &amp;&amp; tmin &#60; 15) {
    	$(".before_prayer").css("display","block");
    } else {
    	$(".before_prayer").css("display","none");
    }
    setTimeout("digitalWatch()", 1000);
 
  }
  function changeDayMonth(){
	  
	  if(thour==0 &amp;&amp; tmin &#60; 15){
		  	$(".msgTurnOffPhoneTat").css("display","");
			$(".msgTurnOffPhoneRu").css("display","");
			$(".msgTurnOffPhoneAr").css("display","");
			$(".msgTurnOffPhoneEn").css("display","");
		    $(".dayTat").css("display","none");
	    	$(".dayRu").css("display","none");
	    	$(".dayAr").css("display","none");
	    	$(".dayEn").css("display","none");					    	
	    	$(".monthTat").css("display","none");
	    	$(".monthRu").css("display","none");
	    	$(".monthArIslam").css("display","none");
	    	$(".monthEnIslam").css("display","none");
		  
	  }
	  else{
	 if(month_day=="day"){
		month_day="month"
		$(".msgTurnOffPhoneTat").css("display","none");
		$(".msgTurnOffPhoneRu").css("display","none");
		$(".msgTurnOffPhoneAr").css("display","none");
		$(".msgTurnOffPhoneEn").css("display","none");
		$(".dayRu").css("display","");
    	$(".dayTat").css("display","");
    	$(".dayAr").css("display","");
    	$(".dayEn").css("display","");					    	
    	$(".monthTat").css("display","none");
    	$(".monthRu").css("display","none");
    	$(".monthArIslam").css("display","none");
    	$(".monthEnIslam").css("display","none");
	}else if(month_day=="month"){
		  month_day="day"
			$(".msgTurnOffPhoneTat").css("display","none");
			$(".msgTurnOffPhoneRu").css("display","none");
			$(".msgTurnOffPhoneAr").css("display","none");
			$(".msgTurnOffPhoneEn").css("display","none");
			$(".dayRu").css("display","none");
	    	$(".dayTat").css("display","none");
	    	$(".dayAr").css("display","none");
	    	$(".dayEn").css("display","none");					    	
	    	$(".monthTat").css("display","");
	    	$(".monthRu").css("display","");
	    	$(".monthArIslam").css("display","");
	    	$(".monthEnIslam").css("display","");
	}
	  }
	  
  }
  function changeSunrise() {
		
		sunrise = !sunrise;

	    if (sunrise) {
	    	$(".Sun").css("display","");
	    	$(".fajr").css("display","none");
	    } else {
	    	$(".Sun").css("display","none");
	    	$(".fajr").css("display","");
	    }
		
	}
  function loadscript(){	
		
	 	digitalWatch();
	 	changeSunrise();
	 	changeDayMonth()
	 	setInterval(changeDayMonth,10000);
	  	setInterval(changeSunrise,10000);
		setInterval(function(){
			    if(navigator.onLine){
			    	document.location.reload(true);
			    }else{
			        this();
			    }
			},3600000);
	  	
	  } 
</script>
	<meta name="Pragma" content="no-cache;" />
	<meta charset="UTF-8" />
	<link rel="shortcut icon" href="data:image/x-icon;,"
		type="image/x-icon" />
	<title>Часы намаза</title>
	<h:outputStylesheet library="watch" target="head"
		name="css/mechet-style.css" />
</h:head>

<h:body onload="loadscript()">

	<h:form prependId="false">

		<!-- Дата время день -->
		<div class="wrapper box16">
			<h:inputHidden id="namazTime"
				value="#{managedMechetNamazMax.namazTime}"></h:inputHidden>


			<div class="date_box" id="digital_watch1"></div>
			<div class="date_box" id="digital_watch2">#{managedMechetNamazMax.dateIslam}</div>
			<div class="date_box" id="digital_watch3"></div>
			<div class="date_box" id="digital_watch4">#{managedMechetNamazMax.dateIslam}</div>

			<div class="box3 msgTurnOffPhoneTat">#{managedMechetNamazMax.messageTopTat}</div>
			<div class="box14 msgTurnOffPhoneAr">#{managedMechetNamazMax.messageTopAr}
			</div>
			<div class="box3 msgTurnOffPhoneRu">
				#{managedMechetNamazMax.messageTopRu}</div>
			<div class="box3 msgTurnOffPhoneEn">
				#{managedMechetNamazMax.messageTopEn}</div>


			<div class="box3 dayTat">#{managedMechetNamazMax.dayTat}</div>
			<div class="box3 dayAr ">#{managedMechetNamazMax.dayAr}</div>
			<div class="box1 dayRu">#{managedMechetNamazMax.dayRu}</div>
			<div class="box1 dayEn">#{managedMechetNamazMax.dayEn}</div>

			<div class="box3 monthTat">#{managedMechetNamazMax.monthTat}</div>
			<div class="box3 monthArIslam">
				#{managedMechetNamazMax.monthArIslam}</div>
			<div class="box1 monthRu">#{managedMechetNamazMax.monthRu}</div>
			<div class="box1 monthEnIslam">
				#{managedMechetNamazMax.monthEnIslam}</div>
		</div>
		<div class="wrapper_1">
			<div id="digital_time"></div>
			<div id="digital_time1"></div>
		</div>

		<div class="table box11">
			<h:dataTable var="n" value="#{managedMechetNamazMax.namazesTatFajr}"
				styleClass="table_2 fajr box12" columnClasses="column1, column2"
				rowClasses="row">
				<h:column>
					<div>#{n.name}</div>
				</h:column>
				<h:column>
					<div>#{n.date}</div>
				</h:column>
			</h:dataTable>
			<h:dataTable id="namazesSun" var="n" value="#{managedMechetNamazMax.namazesTatSun}"
				styleClass="table_2 Sun box12" columnClasses="column1, column2"
				rowClasses="row">
				<h:column>
					<div>#{n.name}</div>
				</h:column>
				<h:column>
					<div>#{n.date}</div>
				</h:column>
			</h:dataTable>
			<h:dataTable  var="n" value="#{managedMechetNamazMax.namazesArFajr}"
				styleClass="table_1 fajr" columnClasses="column1" rowClasses="row">
				<h:column>
					<div>#{n.name}</div>
				</h:column>
			</h:dataTable>
			<h:dataTable var="n" value="#{managedMechetNamazMax.namazesArSun}"
				styleClass="table_1 Sun" columnClasses="column1" rowClasses="row">
				<h:column>
					<div>#{n.name}</div>
				</h:column>
			</h:dataTable>





			<h:dataTable var="n" value="#{managedMechetNamazMax.namazesRuFajr}"
				styleClass="table_2 fajr" columnClasses="column1, column2"
				rowClasses="row">
				<h:column>
					<div>#{n.name}</div>
				</h:column>
				<h:column>
					<div>#{n.date}</div>
				</h:column>
			</h:dataTable>
			<h:dataTable var="n" value="#{managedMechetNamazMax.namazesRuSun}"
				styleClass="table_2 Sun" columnClasses="column1, column2"
				rowClasses="row">
				<h:column>
					<div>#{n.name}</div>
				</h:column>
				<h:column>
					<div>#{n.date}</div>
				</h:column>
			</h:dataTable>
			<h:dataTable var="n" value="#{managedMechetNamazMax.namazesEnFajr}"
				styleClass="table_1 fajr" columnClasses="column1" rowClasses="row">
				<h:column>
					<div>#{n.name}</div>
				</h:column>
			</h:dataTable>
			<h:dataTable var="n" value="#{managedMechetNamazMax.namazesEnSun}"
				styleClass="table_1 Sun" columnClasses="column1" rowClasses="row">
				<h:column>
					<div>#{n.name}</div>
				</h:column>
			</h:dataTable>

		</div>
		<div class="before_namaz">
			<div class="box2 before_prayer">
				<div>#{managedMechetNamazMax.messageBottomTat}</div>
			</div>
			<div class="box8 before_prayer">
				<div>
					<div id="time"></div>
				</div>
			</div>
			<div class="before_prayer box13">
				<div>#{managedMechetNamazMax.messageBottomAr}</div>
			</div>


			<div class="box2 before_prayer">
				<div>#{managedMechetNamazMax.messageBottomRu}</div>
			</div>
			<div class="box8 before_prayer">
				<div>
					<div id="time1"></div>
				</div>
			</div>
			<div class="box15 before_prayer">
				<div>#{managedMechetNamazMax.messageBottomEn}</div>
			</div>
		</div>


		<div class="wrapper_3">

			<div class="box4">
				<span class="low">t</span><sup>0</sup>C
			</div>
			<div class="box5">22</div>
			<div class="box4">

				<span class="low">t</span><sup>0</sup>C
			</div>
			<div class="box4">
				<span class="low">t</span><sup>0</sup>C
			</div>
			<div class="box5">22</div>
			<div class="box4">
				<span class="low">t</span><sup>0</sup>C
			</div>
		</div>


	</h:form>

</h:body>
</html>